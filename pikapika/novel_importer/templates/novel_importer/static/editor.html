{% extends "admin/base_site.html" %}
{% load static from staticfiles %}
{% load url from future %}

{% block title %}Novel editor{{ block.super }}{% endblock %}

{% block javascripts %}

{{ block.super }}
<script type="text/javascript">
IMAGE_UPLOAD_FROM_LOCAL_URL = "{% url "pikapika.ajax_services.image_upload.upload_from_local" %}";
</script>
<script src="{% static "admin/js/jquery.init.js" %}" type="text/javascript">
</script>
<script src="{% static "js/ajax-call.js" %}" type="text/javascript">
</script>
<script src="{% static "js/jstorage.js" %}" type="text/javascript">
</script>
<script src="{% static "js/jquery.cookie.js" %}" type="text/javascript">
</script>
<script src="{% static "modules/file-uploader/fileuploader.js" %}" type="text/javascript">
</script>
<script src="{% static "novel-importer/js/common.js" %}" type="text/javascript">
</script>
<script src="{% static "novel-importer/js/editor.js" %}" type="text/javascript">
</script>
<script src="{% static "novel-importer/js/diff_match_patch.js" %}" type="text/javascript">
</script>
<script src="{% static "novel-importer/js/auto-scroll.js" %}" type="text/javascript">
</script>
<script src="{% static "novel-importer/js/novel-merger.js" %}" type="text/javascript">
</script>

{% endblock %}

{% block extrastyle %}

{{ block.super }}
<link href="{% static "modules/file-uploader/fileuploader.css" %}" rel="stylesheet" type="text/css" />
<link href="{% static "novel-importer/css/editor.css" %}" rel="stylesheet" type="text/css" />

{% endblock %}

{% block content %}
<div id="chapter-content"></div>
<div id="control-panel-container">
    <div id="control-panel">
        <fieldset id="line-editor">
            <h3>Edit</h3>
            <div class="grp-row">
                <textarea id="line-edit-box"></textarea>
            </div>
            <div class="grp-row">
                <div class="button" id="remove-selected">Remove</div>
                <div class="button" id="remove-all">Remove all</div>
                <div class="button" id="new-splitter">Insert chapter splitter</div>
                <div class="button" id="new-paragraph">Insert new paragraph</div>
                <div class="button" id="revert-selected">Revert selected</div>
                <div class="button" id="jump-to-first-invalid-image" data-disabled="true">Jump to first invalid image</div>
                <div class="button" id="compress-empty-line">Compress empty line</div>
            </div>
            <div class="grp-row">
                <div class="button" id="save">Save draft</div>
                <div class="button" id="save-volume">Save to server</div>
            </div>
            <div class="grp-row">
                <div class="column g-d-6">
                    <input type="checkbox" id="hide-unchanged-lines"/>
                    <label for="hide-unchanged-lines">Hide unchanged lines</label>
                </div>
                <div class="column g-d-6">
                    <input type="checkbox" id="hide-deleted-lines"/>
                    <label for="hide-deleted-lines">Hide deleted lines</label>
                </div>
            </div>
        </fieldset>
        <fieldset id="fix-image-fieldset">
            <h3>Fix image</h3>
            <div class="grp-row">
                <div class="qq-uploader"></div>
            </div>
        </fieldset>
        <fieldset>
            <h3>Chapters</h3>
            <div class="grp-row">
                <ul id="chapter-list"></ul>
            </div>
        </fieldset>
        <fieldset>
            <h3>Amend by text version</h3>
            <div class="grp-row">
                <textarea id="amend-box"></textarea>
            </div>
            <div class="grp-row">
                <span id="amend-error"></span>
            </div>
            <div class="grp-row">
                <div class="button" id="do-amend">Amend</div>
            </div>
        </fieldset>
    </div>
</div>
{% endblock %}
